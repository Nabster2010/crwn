{"ast":null,"code":"var _jsxFileName = \"/home/elgarhey/development/crwn/src/pages/checkout/Checkout.jsx\";\nimport React from 'react';\nimport './Checkout.scss';\nimport { useSelector } from 'react-redux';\nimport CheckoutItem from '../../components/checkoutItem/CheckoutItem';\nimport { removeItem, itemDecrement } from '../../redux/cartSlice';\nimport { getTotal } from '../../utils';\nimport StripeCheckout from 'react-stripe-checkout';\nimport { Redirect, useHistory } from 'react-router-dom';\n\nconst Checkout = () => {\n  const history = useHistory();\n  const from = history.location.pathname;\n  const {\n    cartItems\n  } = useSelector(state => state.cart);\n  const {\n    currentUser\n  } = useSelector(state => state.user);\n\n  const onToken = token => {\n    console.log(token);\n  };\n\n  if (currentUser) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"checkout-page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"checkout-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 7\n      }\n    }, \"Prouct\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 7\n      }\n    }, \"Description\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 7\n      }\n    }, \"Quantity\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 7\n      }\n    }, \"Price\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 7\n      }\n    }, \"Remove\"))), cartItems.length > 0 && cartItems.map(item => /*#__PURE__*/React.createElement(CheckoutItem, {\n      key: item.id,\n      item: item,\n      removeItem: removeItem,\n      itemDecrement: itemDecrement,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 7\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"total\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 6\n      }\n    }, \" Total : $\", getTotal(cartItems))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"payment\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(StripeCheckout, {\n      token: onToken,\n      stripeKey: \"pk_test_TRabdgVijSO058CzjAir9stS007bHyFbOZ\",\n      amount: getTotal(cartItems) * 100,\n      currency: \"USD\",\n      name: \"Crown Store\" // the pop-in header title\n      ,\n      description: \"Clothes\" // the pop-in header subtitle\n      ,\n      image: \"https://sendeyo.com/up/d/f3eb2117da\",\n      billingAddress: true,\n      shippingAddress: true,\n      panelLabel: \"Pay Now\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 6\n      }\n    })));\n  } else {\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: {\n        pathname: '/signin',\n        state: from\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 10\n      }\n    });\n  }\n};\n\nexport default Checkout;","map":{"version":3,"sources":["/home/elgarhey/development/crwn/src/pages/checkout/Checkout.jsx"],"names":["React","useSelector","CheckoutItem","removeItem","itemDecrement","getTotal","StripeCheckout","Redirect","useHistory","Checkout","history","from","location","pathname","cartItems","state","cart","currentUser","user","onToken","token","console","log","length","map","item","id"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,iBAAP;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAOC,YAAP,MAAyB,4CAAzB;AACA,SAASC,UAAT,EAAqBC,aAArB,QAA0C,uBAA1C;AACA,SAASC,QAAT,QAAyB,aAAzB;AACA,OAAOC,cAAP,MAA2B,uBAA3B;AACA,SAASC,QAAT,EAAmBC,UAAnB,QAAqC,kBAArC;;AAEA,MAAMC,QAAQ,GAAG,MAAM;AACtB,QAAMC,OAAO,GAAGF,UAAU,EAA1B;AACA,QAAMG,IAAI,GAAGD,OAAO,CAACE,QAAR,CAAiBC,QAA9B;AAEA,QAAM;AAAEC,IAAAA;AAAF,MAAgBb,WAAW,CAAEc,KAAD,IAAWA,KAAK,CAACC,IAAlB,CAAjC;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAkBhB,WAAW,CAAEc,KAAD,IAAWA,KAAK,CAACG,IAAlB,CAAnC;;AACA,QAAMC,OAAO,GAAIC,KAAD,IAAW;AAC1BC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACA,GAFD;;AAGA,MAAIH,WAAJ,EAAiB;AAChB,wBACC;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADD,CADD,eAIC;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADD,CAJD,eAOC;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADD,CAPD,eAUC;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADD,CAVD,eAaC;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADD,CAbD,CADD,EAkBEH,SAAS,CAACS,MAAV,GAAmB,CAAnB,IACAT,SAAS,CAACU,GAAV,CAAeC,IAAD,iBACb,oBAAC,YAAD;AACC,MAAA,GAAG,EAAEA,IAAI,CAACC,EADX;AAEC,MAAA,IAAI,EAAED,IAFP;AAGC,MAAA,UAAU,EAAEtB,UAHb;AAIC,MAAA,aAAa,EAAEC,aAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,CAnBF,eA4BC;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAiBC,QAAQ,CAACS,SAAD,CAAzB,CADD,CA5BD,eA+BC;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,cAAD;AACC,MAAA,KAAK,EAAEK,OADR;AAEC,MAAA,SAAS,EAAC,4CAFX;AAGC,MAAA,MAAM,EAAEd,QAAQ,CAACS,SAAD,CAAR,GAAsB,GAH/B;AAIC,MAAA,QAAQ,EAAC,KAJV;AAKC,MAAA,IAAI,EAAC,aALN,CAKoB;AALpB;AAMC,MAAA,WAAW,EAAC,SANb,CAMuB;AANvB;AAOC,MAAA,KAAK,EAAC,qCAPP;AAQC,MAAA,cAAc,MARf;AASC,MAAA,eAAe,MAThB;AAUC,MAAA,UAAU,EAAC,SAVZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,CA/BD,CADD;AAgDA,GAjDD,MAiDO;AACN,wBAAO,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAE;AAAED,QAAAA,QAAQ,EAAE,SAAZ;AAAuBE,QAAAA,KAAK,EAAEJ;AAA9B,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACA;AACD,CA7DD;;AA+DA,eAAeF,QAAf","sourcesContent":["import React from 'react';\nimport './Checkout.scss';\nimport { useSelector } from 'react-redux';\nimport CheckoutItem from '../../components/checkoutItem/CheckoutItem';\nimport { removeItem, itemDecrement } from '../../redux/cartSlice';\nimport { getTotal } from '../../utils';\nimport StripeCheckout from 'react-stripe-checkout';\nimport { Redirect, useHistory } from 'react-router-dom';\n\nconst Checkout = () => {\n\tconst history = useHistory();\n\tconst from = history.location.pathname;\n\n\tconst { cartItems } = useSelector((state) => state.cart);\n\tconst { currentUser } = useSelector((state) => state.user);\n\tconst onToken = (token) => {\n\t\tconsole.log(token);\n\t};\n\tif (currentUser) {\n\t\treturn (\n\t\t\t<div className='checkout-page'>\n\t\t\t\t<div className='checkout-header'>\n\t\t\t\t\t<div className='header-block'>\n\t\t\t\t\t\t<span>Prouct</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='header-block'>\n\t\t\t\t\t\t<span>Description</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='header-block'>\n\t\t\t\t\t\t<span>Quantity</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='header-block'>\n\t\t\t\t\t\t<span>Price</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='header-block'>\n\t\t\t\t\t\t<span>Remove</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{cartItems.length > 0 &&\n\t\t\t\t\tcartItems.map((item) => (\n\t\t\t\t\t\t<CheckoutItem\n\t\t\t\t\t\t\tkey={item.id}\n\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\tremoveItem={removeItem}\n\t\t\t\t\t\t\titemDecrement={itemDecrement}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\n\t\t\t\t<div className='total'>\n\t\t\t\t\t<span> Total : ${getTotal(cartItems)}</span>\n\t\t\t\t</div>\n\t\t\t\t<div className='payment'>\n\t\t\t\t\t<StripeCheckout\n\t\t\t\t\t\ttoken={onToken}\n\t\t\t\t\t\tstripeKey='pk_test_TRabdgVijSO058CzjAir9stS007bHyFbOZ'\n\t\t\t\t\t\tamount={getTotal(cartItems) * 100}\n\t\t\t\t\t\tcurrency='USD'\n\t\t\t\t\t\tname='Crown Store' // the pop-in header title\n\t\t\t\t\t\tdescription='Clothes' // the pop-in header subtitle\n\t\t\t\t\t\timage='https://sendeyo.com/up/d/f3eb2117da'\n\t\t\t\t\t\tbillingAddress\n\t\t\t\t\t\tshippingAddress\n\t\t\t\t\t\tpanelLabel='Pay Now'\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t} else {\n\t\treturn <Redirect to={{ pathname: '/signin', state: from }} />;\n\t}\n};\n\nexport default Checkout;\n"]},"metadata":{},"sourceType":"module"}